
// !External.
@import "bourbon";

// !Includes.
@import "stylesheets/variables/grid";
@import "stylesheets/variables/space";
@import "stylesheets/variables/fonts";
@import "stylesheets/variables/colors";
@import "stylesheets/inc/animations";
@import "stylesheets/inc/mixins";

:root {} // .edit-post-visual-editor

// Responsive fonts
.edit-post-visual-editor .editor-block-list__block,
.editor-default-block-appender input[type="text"].editor-default-block-appender__content,
.editor-post-title .editor-post-title__input,
.edit-post-visual-editor,
.edit-post-visual-editor p {
	font-family: $x-font-family-body;
}

.edit-post-visual-editor,
.edit-post-visual-editor p {
	font-size: $x-font-size-base;
}

// Add theme styles.
.edit-post-visual-editor {

	@import "stylesheets/elements";
	@import "stylesheets/typography";

	// Responsive font-size
	.editor-block-list__block,
	.editor-block-list__block p {
		font-size: $x-font-size-base;

		@include media(tablet) {
			// you can manage typography editing only these 2 variables
			--font-size-base: calc( #{$font-size-base} * #{$font-size-responsive-ratio} ); // 1 1/6
		}
	}

	// Override font top-level editor styles to match front end
	.editor-rich-text__tinymce.mce-content-body {
		line-height: $x-font-leading-body;
		color: $x-color-words-base;
	}

	// Button
	.wp-block-button .wp-block-button__link {
		@include rounded( 3px );

		background-color: $x-color-primary-base;
		color: $x-color-shade-white;
		padding: $x-space-xs;
		padding-left: $x-space-sm;
		padding-right: $x-space-sm;
		font-family: $x-font-family-heading;
		font-size: $x-font-size-sm;
		line-height: $x-font-leading-body;
		border: 2px solid green;
		border-color: $x-color-primary-base;
		box-shadow: 1px 1px 5px 1px rgba(0,0,0,0.33);
		cursor: pointer;
		display: inline-block;
		font-weight: 600;
		text-decoration: none;
		text-transform: uppercase;
	}

	// Image
	.wp-block-image .block-library-image__resizer img,
	[data-type="core/image"][data-align=full] figure img,
	[data-type="core/image"][data-align=wide] figure img {
		line-height: 0;
		display: block;
	}

	// Gallery
	.wp-block-gallery {

		list-style: none;

		.blocks-gallery-item,
		.blocks-gallery-image {
			margin: 0;
			padding-left: 0;

			&:before {
				content: "";
				display: none;
			}

			figure {
				display: flex;
				flex-direction: column;
			}

			figcaption {
				position: relative;
				padding: 0;
				max-height: inherit;
				background: transparent;
			}

			.editor-rich-text {
				position: inherit;
			}
		}

		&:not(.components-placeholder) {
			// Not yet
		}
	}

	// Captions
	.wp-block-audio figcaption,
	.wp-block-video figcaption,
	.wp-block-image figcaption,
	.wp-block-gallery .blocks-gallery-image figcaption,
	.wp-block-gallery .blocks-gallery-item figcaption {
		color: $x-color-words-subtle;
		font-family: $x-font-family-heading;
		padding: $x-space-xxs 0; // @include block-padding( xxs, 0 );
		text-align: left;
		margin: 0;
	}

	.wp-block-audio.alignfull figcaption,
	.wp-block-video.alignfull figcaption,
	.wp-block-image.alignfull figcaption,
	.wp-block-gallery.alignfull .blocks-gallery-image figcaption,
	.wp-block-gallery.alignfull .blocks-gallery-item figcaption,
	[data-type="core/image"][data-align=full] figcaption {
		padding: $x-space-xs $x-space-sm; // @include block-padding( xs, sm);
		position: inherit;
	}

	// Blockquote
	.wp-block-quote {

		&:not(.is-large):not(.is-style-large) {

			border-left: none;
		}

		.wp-block-quote__citation {
			font-family: $x-font-family-heading;
			font-size: $x-font-size-xs;
			color: $x-color-words-subtle;
			font-style: normal;
			font-weight: 500;
		}
	}
}
